<h1>Mad David's Hole</h1>

<%= link_to "Main", root_path %>

<%= form_for @playlist do |f| %>
  <div class="file-field input-field">
    <div class="btn">
      <span>Files</span>
      <%= f.file_field :xml_file, multiple: true %>
    </div>

    <div class="file-path-wrapper">
      <%= f.text_field :name , placeholder:"Upload one or more files", class:"file-path validate"%>
    </div>
  </div>
  <%= f.submit %>
<% end %>

<ol>
  <% @playlists.each do |playlist| %>
    <li>
      <a class="waves-effect waves-light  modal-trigger" href="#modal<%= playlist.id %>"><%= playlist.name.capitalize %></a>
    </li>

    <!-- Modal Structure -->
    <div id="modal<%= playlist.id %>" class="modal bottom-sheet">
      <div class="modal-content">
        <h4><%= playlist.name.capitalize %></h4>
        <table class="highlight centered responsive-table">
          <thead>
            <tr>
                <th colspan="1"></th>
                <th data-field="name">Name</th>
                <th data-field="artist">Artist</th>
                <th data-field="genre">Genre</th>
                <th data-field="bit_rate">Bit Rate</th>
                <th data-field="sample_rate">Sample Rate</th>
                <th data-field="normalization">Normalization</th>
            </tr>
          </thead>
          <% playlist.songs.each_with_index do |song,i| %>
            <tbody>
              <tr>
                <td><%= i+1 %></td>
                <td><%= song.name %></td>
                <td><%= song.artist %></td>
                <td><%= song.genre %></td>
                <td><%= song.bit_rate %></td>
                <td><%= song.sample_rate %></td>
                <td><%= song.normalization %></td>
              </tr>
            </tbody>
          <% end %>
        </table>
      </div>
      <div class="modal-footer">
        <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
      </div>
    </div><!-- end Modal Structure -->
  <% end %>
</ol>
